% figure;
% plot(x_eje_btp, count_btp_100_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_90_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_80_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_70_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_60_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_50_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_40_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_30_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_20_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_10_tx_wind_10)
% hold on
% plot(x_eje_btp, count_btp_0_tx_wind_10)
% title('count-btp')

figure;
plot(x_eje_btp_01, count_EWMA_btp_01_100_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_90_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_80_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_70_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_60_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_50_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_40_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_30_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_20_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_10_tx_wind_10)
hold on
plot(x_eje_btp_01, count_EWMA_btp_01_0_tx_wind_10)
title('count-EWMA-btp 01')
% 
% figure;
% plot(x_eje_btp_07, count_EWMA_btp_07_100_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_90_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_80_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_70_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_60_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_50_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_40_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_30_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_20_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_10_tx_wind_10)
% hold on
% plot(x_eje_btp_07, count_EWMA_btp_07_0_tx_wind_10)
% title('count-EWMA-btp 07')
% 
% figure; 
% plot(x_eje_ppl, count_ppl_100_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_90_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_80_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_70_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_60_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_50_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_40_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_30_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_20_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_10_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_ppl_0_tx_wind_10)
% title('count-ppl')
% 
figure; 
plot(x_eje_ppl, count_EWMA_ppl_01_100_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_90_tx_wind_10)
hold on 
plot(x_eje_ppl, count_EWMA_ppl_01_80_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_70_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_60_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_50_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_40_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_30_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_20_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_10_tx_wind_10)
hold on
plot(x_eje_ppl, count_EWMA_ppl_01_0_tx_wind_10)
title('count-EWMA-ppl 01')
% 
% figure; 
% plot(x_eje_ppl, count_EWMA_ppl_07_100_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_90_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_80_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_70_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_60_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_50_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_40_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_30_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_20_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_10_tx_wind_10)
% hold on
% plot(x_eje_ppl, count_EWMA_ppl_07_0_tx_wind_10)
% title('count-EWMA-ppl 07')
% 
% 

figure;
plot(int_vec_0_100, mean_int_vec_EWMA_01_wind_10)
hold on 
plot(int_vec_0_100, int_vec_0_100);

figure;
plot(int_vec_0_100, error_int_vec_EWMA_01_wind_10)


%% detection accuracy

figure
plot(int_vec_0_100,percentage_det_int_vec_EWMA_01_wind_10)


% figure
% plot(consolidado_power_wind_X_mean_int_0)


% figure
% 
% subplot(10,1,1:2);
% 
% h1  = errorbar(window_vec,vec_wind_zeros,consolidado_power_wind_X_std_int_0,'r-','LineWidth',4);
% set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
% set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
% xlim([min(window_vec) max(window_vec)]);
% ylim([min(consolidado_power_wind_X_std_int_0*-1)-1.00 max(consolidado_power_wind_X_std_int_0)+1.00 ]);
% ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
% xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');
% title('Power consumption', 'FontSize', 22, 'fontweight','bold');
% 
% subplot(10,1,3:10);
% 
% plot(window_vec, consolidado_power_wind_X_mean_int_0)

% figure
% plot(window_vec, consolidado_all_cpu_wind_X_int_0_mean)


% figure
% 
% subplot(10,1,1:2);
% 
% h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_cpu_wind_X_int_0_std,'r-','LineWidth',4);
% set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
% set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
% xlim([min(window_vec) max(window_vec)]);
% ylim([min(consolidado_all_cpu_wind_X_int_0_std*-1)-0.050 max(consolidado_all_cpu_wind_X_int_0_std)+0.050 ]);
% title('Power consumption CPU int 0', 'FontSize', 22, 'fontweight','bold');
% 
% subplot(10,1,3:10);
% 
% plot(window_vec, consolidado_all_cpu_wind_X_int_0_mean)
% ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
% xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');
% 
% figure
% 
% subplot(10,1,1:2);
% 
% h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_lpm_wind_X_int_0_std,'r-','LineWidth',4);
% set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
% set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
% xlim([min(window_vec) max(window_vec)]);
% ylim([min(consolidado_all_lpm_wind_X_int_0_std*-1)-0.050 max(consolidado_all_lpm_wind_X_int_0_std)+0.050 ]);
% title('Power consumption lpm int 0', 'FontSize', 22, 'fontweight','bold');
% 
% subplot(10,1,3:10);
% 
% plot(window_vec, consolidado_all_lpm_wind_X_int_0_mean)
% ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
% xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');
% 
% figure
% 
% subplot(10,1,1:2);
% 
% h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_transmit_wind_X_int_0_std,'r-','LineWidth',4);
% set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
% set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
% xlim([min(window_vec) max(window_vec)]);
% ylim([min(consolidado_all_transmit_wind_X_int_0_std*-1)-0.050 max(consolidado_all_transmit_wind_X_int_0_std)+0.050 ]);
% title('Power consumption transmit int 0', 'FontSize', 22, 'fontweight','bold');
% 
% subplot(10,1,3:10);
% 
% plot(window_vec, consolidado_all_transmit_wind_X_int_0_mean)
% ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
% xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');
% 
% figure
% 
% subplot(10,1,1:2);
% 
% h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_listen_wind_X_int_0_std,'r-','LineWidth',4);
% set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
% set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
% xlim([min(window_vec) max(window_vec)]);
% ylim([min(consolidado_all_listen_wind_X_int_0_std*-1)-0.050 max(consolidado_all_listen_wind_X_int_0_std)+0.050 ]);
% title('Power consumption listen int 0', 'FontSize', 22, 'fontweight','bold');
% 
% subplot(10,1,3:10);
% 
% plot(window_vec, consolidado_all_listen_wind_X_int_0_mean)
% ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
% xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');


% consolidado_det_int_0_wind_x = [ mean(det_int_0_wind_5)
%                 mean(det_int_0_wind_10)    
%                 mean(det_int_0_wind_15)    
%                 mean(det_int_0_wind_20)    
%                 mean(det_int_0_wind_25)    
%                 mean(det_int_0_wind_30)    
%                 mean(det_int_0_wind_35)                    
%               ];
%           
% figure 
% plot(window_vec, consolidado_det_int_0_wind_x)

figure

subplot(10,1,1:2);

h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_cpu_wind_X_int_70_std,'r-','LineWidth',4);
set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
xlim([min(window_vec) max(window_vec)]);
ylim([min(consolidado_all_cpu_wind_X_int_70_std*-1)-0.050 max(consolidado_all_cpu_wind_X_int_70_std)+0.050 ]);
title('Power consumption CPU int 70', 'FontSize', 22, 'fontweight','bold');

subplot(10,1,3:10);

plot(window_vec, consolidado_all_cpu_wind_X_int_70_mean)
ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');

figure

subplot(10,1,1:2);

h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_lpm_wind_X_int_70_std,'r-','LineWidth',4);
set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
xlim([min(window_vec) max(window_vec)]);
ylim([min(consolidado_all_lpm_wind_X_int_70_std*-1)-0.050 max(consolidado_all_lpm_wind_X_int_70_std)+0.050 ]);
title('Power consumption lpm int 70', 'FontSize', 22, 'fontweight','bold');

subplot(10,1,3:10);

plot(window_vec, consolidado_all_lpm_wind_X_int_70_mean)
ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');

figure

subplot(10,1,1:2);

h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_transmit_wind_X_int_70_std,'r-','LineWidth',4);
set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
xlim([min(window_vec) max(window_vec)]);
ylim([min(consolidado_all_transmit_wind_X_int_70_std*-1)-0.050 max(consolidado_all_transmit_wind_X_int_70_std)+0.050 ]);
title('Power consumption transmit int 70', 'FontSize', 22, 'fontweight','bold');

subplot(10,1,3:10);

plot(window_vec, consolidado_all_transmit_wind_X_int_70_mean)
ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');

figure

subplot(10,1,1:2);

h1  = errorbar(window_vec,vec_wind_zeros,consolidado_all_listen_wind_X_int_70_std,'r-','LineWidth',4);
set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
xlim([min(window_vec) max(window_vec)]);
ylim([min(consolidado_all_listen_wind_X_int_70_std*-1)-0.050 max(consolidado_all_listen_wind_X_int_70_std)+0.050 ]);
title('Power consumption listen int 70', 'FontSize', 22, 'fontweight','bold');

subplot(10,1,3:10);

plot(window_vec, consolidado_all_listen_wind_X_int_70_mean)
ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');

%% Grafica de energia consolidada
% figure
% 
% subplot(10,1,1:2);
% 
% h1  = errorbar(window_vec,vec_wind_zeros,consolidado_power_wind_X_std_int_70,'r-','LineWidth',4);
% set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
% set(gca,'XTickLabel',{}) % quitar los numeros en el eje x
% xlim([min(window_vec) max(window_vec)]);
% ylim([min(consolidado_power_wind_X_std_int_70*-1)-1.00 max(consolidado_power_wind_X_std_int_70)+1.00 ]);
% xlabel('Window size (Num packets)','FontSize', 20,'fontweight','bold');
% title('Power consumption', 'FontSize', 22, 'fontweight','bold');
% 
% subplot(10,1,3:10);
% 
% plot(window_vec, consolidado_power_wind_X_mean_int_70)
% ylabel('Power (mW)','FontSize', 20,'fontweight','bold');

% blue_1 = [0 0 102]; 
% blue_2 = [0 0 153]; 
% blue_3 = [0 0 204]; 
% blue_4 = [0 0 255]; 

color_1 = [102/255 102/255   0/255]; 
color_2 = [ 51/255 102/255   0/255];
color_3 = [  0/255 102/255 102/255 ]; 
color_4 = [  0/255  51/255 102/255 ]; 

figure 
h = bar(min(window_vec):min(window_vec):max(window_vec),consolidado_bar_all_x_wind_X_int_70_mean_mod,'stacked');
set(h,{'FaceColor'},{color_1;color_2;color_3;color_4});
set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
xlabel('Window size','FontSize', 20,'fontweight','bold');
title('Power consumption', 'FontSize', 22, 'fontweight','bold');
legenda1 = 'cpu';
legenda2 = 'lpm';
legenda3 = 'Tx';
legenda4 = 'Rx';
legenda =legend(legenda1,legenda2,legenda3,legenda4,'Location','SouthEast');
set(legenda,'FontSize',14);

% figure 
% bar(min(window_vec):min(window_vec):max(window_vec),consolidado_bar_all_x_wind_X_int_0_mean,'stacked')
% set(gca,'fontsize',16) % Colocar mas grandes los numeros de los ejes
% ylabel('Power (mW)','FontSize', 20,'fontweight','bold');
% xlabel('Window size','FontSize', 20,'fontweight','bold');
% title('Power consumption', 'FontSize', 22, 'fontweight','bold');
% legenda1 = 'cpu';
% legenda2 = 'lpm';
% legenda3 = 'Tx';
% legenda4 = 'Rx';
% legenda =legend(legenda1,legenda2,legenda3,legenda4,'Location','SouthEast');
% set(legenda,'FontSize',14);




